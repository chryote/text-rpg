
-----

# üåç Project: Story Ecology RPG Simulation

> **A systemic storytelling engine designed to generate truly emergent, unscripted narratives to satisfy the search for novelty missing in conventional open-world sandboxes.**

This project is a high-fidelity text-based world simulation where story emerges bottom-up from the complex interactions of world systems and autonomous agents. We focus on **meaningful friction** and **dynamic evolution**, not handcrafted quests.

-----

## üí° Core Philosophy: A Story Ecology

Our goal is not realism, but **emergent novelty** . The world is treated as a single, reacting ecosystem where every action creates a ripple effect.

  * **Emergence over Scripting:** The simulation is designed to evolve through conflict and cooperation, producing unique storylines and narrative hooks without relying on traditional, pre-written plot lines.
  * **Meaningful Friction:** Systems are intentionally stylized and tuned for drama, ensuring the world is actively reacting to itself.
  * **Tags as Narrative Hooks:** The simulation state is translated into high-level tags (e.g., `prosperous`, `bandit_settlement`, `predator_surge`) that directly drive AI decision-making.

-----

## üõ†Ô∏è Key Architectural Systems

The codebase is built using a highly modular architecture based on industry-standard patterns for game AI and complex simulations.

| System | Role | Technical Implementation |
| :--- | :--- | :--- |
| **World Generation** | Handles procedural climate, biome derivation, resources, and terrain features. | Implemented via a clear pipeline of `GenerateWorld`, `AssignClimate`, `DeriveBiomeFromClimate`. |
| **Agent AI (Entities)** | Autonomous entities (e.g., `settlement_ai`) that react to local and global conditions. | Uses **Entity Component System (ECS)** (e.g., `MemoryComponent`, `PersonalityComponent`) paired with an efficient, hierarchical **Behavior Tree (BT)**. |
| **Trade Routes** | The core layer for interaction, logistics, and conflict propagation. | Calculates routes using A\* pathfinding and assesses risk dynamically based on environmental (`eco_risk`) and social factors (agent relationships, *MST backbone*). |
| **World Director** | The central story regulator that aggregates all simulation signals. | Translates inputs into abstract global indices (`global_stress`, `conflict_index`) to manage the game's overall **world phase** (`stable`, `tension`, `collapse`). |

-----

## üöÄ Getting Started

The project is structured around clear Python modules. The entry point is `main.py`.
The entry point for AI test bed is `test_ai_payload.py`. The entry point for plotting simulation is `mock_simulation_plotting.py`.
You might want to check `docs/ProjectVision.md` and `docs/ProjectStyleGuide.md` to better understand project scope.

1.  **Run the Simulation:** Execute `main.py` to generate a seeded world, initialize all systems, attach AI agents, and run the time-based simulation loop.

    ```bash
    python main.py
    ```

2.  **Explore Modules:** Contributions and feature development should focus on the defined system boundaries:

    | Module | Focus |
    | :--- | :--- |
    | `worldgen.py` | Terrain features, map density, climate zones. |
    | `economy.py` | Settlement resource allocation and economic logic. |
    | `tile_events.py` | Defining new localized event payloads and triggers. |
    | `entities/` | New agent components or refining existing AI logic. |

3.  **Next Steps (Contribution Focus):** The current development priority is building the **Scene System**‚Äîthe final layer that consumes the rich state generated by this engine to produce high-resolution narrative text. This is where the true novelty is realized.